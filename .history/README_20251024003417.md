# 项目名

genshin-artifact-reroll

### 概要

精确的圣遗物重铸概率分析与卷积实现，提供离散分布卷积、按次数自卷积、按词条与整件圣遗物合并的精确算法，支持强制命中替换、分数化权重处理与 PMF 可视化，适用于小规模精确枚举与验证性分析.

## 功能 & 原理



候选池与强制命中替换：支持 forced_pair、min_hits 等约束，基于 A/B 分组与多项式卷积在条件下替换原始计数以产出条件化的分布计数.

统计与可视化：从计数到 PMF 的转换、均值与标准差计算、并提供 PMF 绘图（matplotlib）与交互式点击注释支持.

### 安装与运行
要求：Python 3.9+。

可选依赖：matplotlib、numpy。

### 安装（示例）：

创建虚拟环境并安装依赖：

bash
python -m venv .venv
.venv\Scripts\activate      # Windows
source .venv/bin/activate   # Linux / macOS
pip install matplotlib numpy 

### 运行示例脚本：

直接运行模块内的示例验证基本卷积与小规模联合分布输出：

python artifact_reroll_2.0.py

### 如何使用

1. 在BASE_STATS里找到对应角色, **调整ATK里的608为你的武器白值**
2. **修改main()里角色名**(角色全名(-xx), 不能是别名也不能有错别字), 初始词条, 当前词条
3. 修改精度delta, 可以计算提升多少词条的概率(一条6.6/3.3双爆是100*8.5,100是词条权重, 7/8/9/10对应四个档位)
4. 初始4 initial_substat_count=4, 初始3 initial_substat_count=3
5  填写约束(初始词条内), 如果你选定命中暴击爆伤 就填("暴击","暴伤")
6. 填写约束命中数2/3/4, 如果你想要计算选中词条至少命中2次的提升概率, 就填2
7. 运行代码, 会在gui生成图表, 也可修改参数以文件形式输出到同一目录

### 许可证：建议 MIT 或 Apache-2.0。

### References

代码与实现细节（输入示例、基础数据字典、完整实现与注释）来源于当前工程 paste.